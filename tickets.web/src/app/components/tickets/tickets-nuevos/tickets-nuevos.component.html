<button *ngIf="!hideProcesarButton"
        (click)="procesarTickets()"
        type="button" class="btn btn-primary mb-3" data-bs-toggle="tooltip" data-bs-placement="right" title="Clasificar ticket y asignar personal">
  <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-cpu" width="40" height="40" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
    <rect x="5" y="5" width="14" height="14" rx="1"></rect>
    <path d="M9 9h6v6h-6z"></path>
    <path d="M3 10h2"></path>
    <path d="M3 14h2"></path>
    <path d="M10 3v2"></path>
    <path d="M14 3v2"></path>
    <path d="M21 10h-2"></path>
    <path d="M21 14h-2"></path>
    <path d="M14 21v-2"></path>
    <path d="M10 21v-2"></path>
  </svg>
  Procesar todos los tickets
</button>

<table class="table table-vcenter table-mobile-md card-table">
  <thead>
  <tr>
    <th>ID</th>
    <th>Título</th>
    <th>Descripción</th>
    <th>Creado por</th>
    <th class="w-1"></th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let ticket of this.ticketsNuevos">
    <td data-label="title">
      <div class="text-muted">{{ ticket.id }}</div>
    </td>
    <td data-label="title">
      <div class="text-muted">{{ ticket.titulo }}</div>
    </td>
    <td data-label="description">
      <div class="text-muted">{{ ticket.descripcion }}</div>
    </td>
    <td class="text-muted" data-label="created_by">
      {{ ticket.usuario.nombres }} {{ ticket.usuario.apellidos }}
    </td>
    <td>
      <app-ticket-detalle [ticket]="ticket"
                          [readOnly]="true" [nombreFormulario]="'Detalle del Ticket #' + ticket.id"
                          [modalId]="'nuevo-ticket-' + ticket.id" [usuariosSoporte]="usuariosSoporte">
      </app-ticket-detalle>
      <div class="btn-list flex-nowrap">
        <button class="btn btn-vk" data-bs-toggle="modal" [attr.data-bs-target]="'#nuevo-ticket-' + ticket.id">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-list-details" width="40" height="40" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path d="M13 5h8"></path>
            <path d="M13 9h5"></path>
            <path d="M13 15h8"></path>
            <path d="M13 19h5"></path>
            <rect x="3" y="4" width="6" height="6" rx="1"></rect>
            <rect x="3" y="14" width="6" height="6" rx="1"></rect>
          </svg>
          Detalle
        </button>
        <div class="dropdown">
          <button class="btn btn-cyan dropdown-toggle align-text-top" data-bs-toggle="dropdown">
            Opciones
          </button>
          <div class="dropdown-menu dropdown-menu-end">
            <button class="dropdown-item" (click)="procesarTickets(ticket.id)">
              <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-cpu" width="40" height="40" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                <rect x="5" y="5" width="14" height="14" rx="1"></rect>
                <path d="M9 9h6v6h-6z"></path>
                <path d="M3 10h2"></path>
                <path d="M3 14h2"></path>
                <path d="M10 3v2"></path>
                <path d="M14 3v2"></path>
                <path d="M21 10h-2"></path>
                <path d="M21 14h-2"></path>
                <path d="M14 21v-2"></path>
                <path d="M10 21v-2"></path>
              </svg>
              Procesar
            </button>
            <button class="dropdown-item" (click)="cerrarTicket(ticket.id)">
              <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-adjustments-off" width="40" height="40" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                <circle cx="6" cy="10" r="2"></circle>
                <path d="M6 6v2"></path>
                <path d="M6 12v8"></path>
                <circle cx="12" cy="16" r="2"></circle>
                <path d="M12 4v4"></path>
                <path d="M12 12v2"></path>
                <path d="M12 18v2"></path>
                <circle cx="18" cy="7" r="2"></circle>
                <path d="M18 4v1"></path>
                <path d="M18 9v5"></path>
                <path d="M18 18v2"></path>
                <path d="M3 3l18 18"></path>
              </svg>
              Cerrar
            </button>
          </div>
        </div>
      </div>
    </td>
  </tr>
  </tbody>
</table>
